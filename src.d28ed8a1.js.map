{"version":3,"sources":["js/get-refs.js","index.js"],"names":["getRefs","inputEl","document","querySelector","searchForm","button","galleryEl","loadMoreButton","sentinel","refs","container","loading","showLoading","classList","add","setTimeout","getPost","postResponse","fetch","postData","json","console","log","addDataToDOM","data","postElement","createElement","innerHTML","hits","map","result","largeImageURL","webformatURL","likes","views","comments","downloads","join","appendChild","remove","window","addEventListener","scrollTop","scrollHeight","clientHeight","documentElement"],"mappings":";AASG,aATY,SAASA,IACb,MAAA,CACLC,QAASC,SAASC,cAAc,6BAChCC,WAAYF,SAASC,cAAc,gBACnCE,OAAQH,SAASC,cAAc,yBAC/BG,UAAWJ,SAASC,cAAc,YAClCI,eAAgBL,SAASC,cAAc,oBACvCK,SAAUN,SAASC,cAAc,cAEpC,OAAA,eAAA,QAAA,aAAA,CAAA,OAAA,IAAA,QAAA,QAAA;;ACsIF,aA3ID,IAAA,EAAA,EAAA,QAAA,kBA2IC,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GAnIA,MAAMM,GAAO,EAAb,EAAA,WA2DKC,EAAYR,SAASC,cAAc,cACnCQ,EAAUT,SAASC,cAAc,YAiBvC,SAASS,IACRD,EAAQE,UAAUC,IAAI,QAGtBC,WAAWC,EAAS,KAGrB,eAAeA,IACRC,MAAAA,QAAqBC,MAAO,mJAC5BC,QAAiBF,EAAaG,OAGnCC,QAAQC,IAAI,WAAYH,GACxBI,EAAaJ,GAGf,SAASI,EAAaC,GACfC,MAAAA,EAAcvB,SAASwB,cAAc,OAC3CD,EAAYZ,UAAUC,IAAI,cAGzBW,EAAYE,UAAYH,EAAKI,KAC7BC,IAAKC,iDAEOA,EAAOC,2EACND,EAAOE,iHAIVF,EAAOG,+DAGPH,EAAOI,+DAGPJ,EAAOK,kEAGPL,EAAOM,gDAKjBC,KAAK,IAELhB,QAAQC,IAAI,uCAAwCE,GACpDH,QAAQC,IAAI,4CAA6CE,EAAKI,MAC9DP,QAAQC,IAAI,8CAA+CG,GAI3Df,EAAU4B,YAAYb,GAEvBd,EAAQE,UAAU0B,OAAO,QApE1BvB,IACAA,IACAA,IAEAwB,OAAOC,iBAAiB,SAAU,KAC3B,MAAA,UAAEC,EAAF,aAAaC,EAAb,aAA2BC,GAAiB1C,SAAS2C,gBAE3DxB,QAAQC,IAAK,CAAEoB,UAAAA,EAAWC,aAAAA,EAAcC,aAAAA,IAErCA,EAAeF,GAAaC,EAAe,GAE7C/B","file":"src.d28ed8a1.js","sourceRoot":"../src","sourcesContent":["export default function getRefs() {\n    return {\n      inputEl: document.querySelector('input[name=\"searchQuery\"]'),\n      searchForm: document.querySelector('.search-form'),\n      button: document.querySelector('button[type=\"submit\"]'),\n      galleryEl: document.querySelector('.gallery'),\n      loadMoreButton: document.querySelector('button.load-more'),\n      sentinel: document.querySelector('#sentinel')\n    };\n  }\n","// // import './sass/main.scss';\n// import axios from 'axios';\n// import Notiflix from 'notiflix';\n// import apiSettings from './settings';\nimport getRefs from './js/get-refs';\n// import ImageApiService from './js/api-service';\n// import lightBox from './js/lightBox';\n//import InfiniteScroll from './js/if';\n\n//  const searchApiService = new ImageApiService();\n//  let lightbox = new SimpleLightbox('.gallery a', { /* options */ });\n\n const refs = getRefs();\n//  const { BASE_URL, API_KEY } = apiSettings;\n\n//  refs.searchForm.addEventListener('submit', onSearch);\n\n//  function onSearch(event){\n//   event.preventDefault();\n//   searchApiService.clearInputOnFocus();\n\n//   searchApiService.query = refs.inputEl.value;\n//   if (searchApiService.query === '') {\n//     return  Notiflix.Notify.warning('Cannot be empty. Please provide your searching word!');\n//   }\n\n//   searchApiService.resetPage();\n//   searchApiService.fetchResults().then(appendMarkup)\n//  }\n\n// function appendMarkup(results){\n//  //renderList(results.hits)\n//  console.log('appendMarkup results: ', results);\n//  renderList(results)\n// }\n\n// function renderList(results) {\n//   console.log('results: ', results)\n//   console.log('results.hits: ', results.hits)\n\n//   const markup = results.hits\n//     .map((result) => {\n//       return `<div class=\"photo-card\">\n//       <a href=\"${result.largeImageURL}\" target=\"_blank\" rel=\"noopener noreferrer\">\n//       <img src=\"${result.webformatURL}\" alt=\"\" loading=\"lazy\" />\n//       </a>\n//       <div class=\"info\">\n//         <p class=\"info-item\">\n//           <b>${result.likes}</b>\n//         </p>\n//         <p class=\"info-item\">\n//           <b>${result.views}</b>\n//         </p>\n//         <p class=\"info-item\">\n//           <b>${result.comments}</b>\n//         </p>\n//         <p class=\"info-item\">\n//           <b>${result.downloads}</b>\n//         </p>\n//       </div>\n//     </div>`;\n//     })\n//     .join(\"\");\n//   //return markup;\n//   refs.galleryEl.innerHTML = markup;\n// }\n\n\n//refs.galleryEl.insertAdjacentHTML(\"beforeend\", renderList(results));\n\n\nconst container = document.querySelector('.container');\nconst loading = document.querySelector('.loading');\n\ngetPost();\ngetPost();\ngetPost();\n\nwindow.addEventListener('scroll', () => {\n\tconst { scrollTop, scrollHeight, clientHeight } = document.documentElement;\n\t\n\tconsole.log( { scrollTop, scrollHeight, clientHeight });\n\t\n\tif(clientHeight + scrollTop >= scrollHeight - 5) {\n\t\t// show the loading animation\n\t\tshowLoading();\n\t}\n});\n\nfunction showLoading() {\n\tloading.classList.add('show');\n\t\n\t// load more data\n\tsetTimeout(getPost, 1000)\n}\n\nasync function getPost() {\n\tconst postResponse = await fetch(`https://pixabay.com/api/?key=25748459-63f23aee85add1030efa422f3&q=cat&image_type=photo&orientation=horizontal&safesearch=true&page=1&per_page=5`);\n\tconst postData = await postResponse.json();\n\n\n  console.log('POSTDATA', postData);\n  addDataToDOM(postData);\n}\n\nfunction addDataToDOM(data) {\n\tconst postElement = document.createElement('div');\n\tpostElement.classList.add('photo-card');\n\n\n  postElement.innerHTML = data.hits\n .map((result) => {\n   return `<div class=\"photo-card-item\">\n   <a href=\"${result.largeImageURL}\" target=\"_blank\" rel=\"noopener noreferrer\">\n   <img src=\"${result.webformatURL}\" alt=\"\" loading=\"lazy\" />\n   </a>\n   <div class=\"info\">\n     <p class=\"info-item\">\n       <b>${result.likes}</b>\n     </p>\n     <p class=\"info-item\">\n       <b>${result.views}</b>\n     </p>\n     <p class=\"info-item\">\n       <b>${result.comments}</b>\n     </p>\n     <p class=\"info-item\">\n       <b>${result.downloads}</b>\n     </p>\n   </div>\n </div>`;\n })\n .join(\"\"); \n\n  console.log('================================DATA', data)\n  console.log('================================DATA.HITS', data.hits);\n  console.log('================================postElement', postElement)\n\n // refs.galleryEl.insertAdjacentHTML(\"beforeend\", postElement);\n\n\t container.appendChild(postElement);\n\t\n\tloading.classList.remove('show');\n}\n\n"]}